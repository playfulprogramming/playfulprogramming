---
import {
	IFramePlaceholder as PreactIFramePlaceholder,
	IFramePlaceholderProps,
} from "components/iframe-placeholder/iframe-placeholder";
import Video from "utils/markdown/components/video/video.astro";
import { oembedVideoHosts } from "utils/markdown/oembed";

export type Props = IFramePlaceholderProps;

const props = Astro.props;

const url = new URL(props.src);

const showVideoPlaceholder = oembedVideoHosts.includes(url.hostname);
---

{
	showVideoPlaceholder ? (
		<Video {...props} />
	) : (
		<PreactIFramePlaceholder {...props} client:visible />
	)
}
